<div class="row">
    <div class="col-xl-12 col-sm-12">

        <app-card [hidHeader]="true" [isCardFooter]="true">
            <br>
            <form [formGroup]="setCrownForm" >
                <div class="row">
                    <!-- <div class="col-sm-4">
                        <div class="form-group">
                            <div class="cus-label">
                                <span>Crown Name</span>
                            </div>
                            <input type="text" placeholder="" class="form-control" formControlName="crownName">
                        </div>
                    </div> -->
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="cus-label">
                                <span>Image</span>
                            </div>
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="validatedCustomFile" required
                                accept=".png, .jpg, .jpeg"  (change)="onIconUpload($event)">
                                <label class="custom-file-label" for="validatedCustomFile">{{ iconName ? iconName.slice(0,15) : 'Choose file...' }}</label>
                            </div>
                            <div class="error-msg" *ngIf="!icon  && formValidate">
                                <span>Please Upload Image</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="cus-label">
                                <span>Crowns</span>
                            </div>
                            <input type="text" placeholder="" class="form-control" formControlName="crowns">
                            <div class="error-msg" *ngIf="!setCrownForm.get('crowns').valid  && formValidate">
                                <span *ngIf="setCrownForm.get('crowns').errors['required']">Please enter Crowns</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="cus-label">
                                <span>Equal Value(RM)</span>
                            </div>
                            <input type="text" placeholder="" class="form-control" formControlName="crownValue">
                            <div class="error-msg" *ngIf="!setCrownForm.get('crownValue').valid  && formValidate">
                                <span *ngIf="setCrownForm.get('crownValue').errors['required']">Please enter Equal
                                    Value</span>
                            </div>
                        </div>
                    </div>
                </div>
               
            </form>
            <div class="col-sm-12">
                <div class="form-group text-center">
                    <button (click)="clearForm()" class="btn btn-danger">Clear</button> &nbsp;
                     
                     <button type="button" *ngIf="!crownObj" (click)="setCrownValue()" class="btn btn-primary" >Submit</button>
                     <button type="button" *ngIf="crownObj" (click)="update()" class="btn btn-primary" >Update</button>
             
                    </div>
            </div>
        </app-card>

    </div>
</div>


<!-- 
<div class="row py-3">
    <div class="col-xl-12 col-sm-12">
        <div class="row py-3 mt-3 mb-3">
            <div class="col-sm-6 cus-stle">
                <h4>Set Crown Value</h4>
            </div>
        </div>
        <div class="row my-3" *ngIf="crownsForm && crownsForm.length > 0">
            <div class="col-xl-6 col-sm-6">
                <div *ngIf="showError" class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>Form inavlid!</strong> Please fill in all the required fields.
                </div>
            </div>
            <div class="col-xl-12 col-sm-12" [formGroup]="form">
                <app-card [hidHeader]="true" [isCardFooter]="true">
                    <br>
                    <div formArrayName="crownsForm" *ngFor="let form of crownsForm.controls; let i=index;">
                        <div class="row my-2" [formGroup]="form">
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <div class="cus-label">
                                        <span>Crowns</span>
                                    </div>
                                    <input type="text" placeholder="" formControlName="count" class="form-control" required>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <div class="cus-label">
                                        <span>Value in RM</span>
                                    </div>
                                    <input type="text" placeholder="" formControlName="value" class="form-control" required>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <button type="button" class="btn btn-primary" (click)="save(i)">Update</button>
                            </div>
                        </div>
                    </div>

                    <div class="row my-2" [formGroup]="form">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Crowns</span>
                                </div>
                                <input type="text" placeholder="15750" formControlName="name" class="form-control">
                            </div> 
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Value in RM</span>
                                </div>
                                <input type="text" placeholder="20.99 RM" formControlName="value" class="form-control">
                            </div>
                        </div>
                        
                    </div>

                    <div class="row my-2" [formGroup]="form">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Crowns</span>
                                </div>
                                <input type="text" placeholder="31,500" formControlName="name" class="form-control">
                            </div> 
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Value in RM</span>
                                </div>
                                <input type="text" placeholder="41.99 RM" formControlName="value" class="form-control">
                            </div>
                        </div>
                        
                    </div>

                    <div class="row my-2" [formGroup]="form">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Crowns</span>
                                </div>
                                <input type="text" placeholder="78750" formControlName="name" class="form-control">
                            </div> 
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Value in RM</span>
                                </div>
                                <input type="text" placeholder="10.99 RM" formControlName="value" class="form-control">
                            </div>
                        </div>
                        
                    </div>

                    <div class="row my-2" [formGroup]="form">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Crowns</span>
                                </div>
                                <input type="text" placeholder="1,57,500" formControlName="name" class="form-control">
                            </div> 
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Value in RM</span>
                                </div>
                                <input type="text" placeholder="209.99 RM" formControlName="value" class="form-control">
                            </div>
                        </div>
                        
                    </div>

                    <div class="row my-2" [formGroup]="form">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Crowns</span>
                                </div>
                                <input type="text" placeholder="3,15,000" formControlName="name" class="form-control">
                            </div> 
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="cus-label">
                                    <span>Value in RM</span>
                                </div>
                                <input type="text" placeholder="414.99 RM" formControlName="value" class="form-control">
                            </div>
                        </div>
                        
                    </div>

                    <div class="col-sm-12">
                        <div class="form-group text-left">
                            <button type="button" class="btn btn-danger">Clear</button> &nbsp;
                            <button type="button" class="btn btn-primary" (click)="save()">Save</button>
                        </div>
                    </div>

                </app-card>

            </div>
        </div>
    </div>
</div>
<app-loader *ngIf="showLoading"></app-loader> -->